<!DOCTYPE html>
<html>
<head>
  <title>Twitter OAuth Callback</title>
  <script>
    // Parse URL parameters function
    function getQueryVariable(variable) {
      var query = window.location.search.substring(1);
      var vars = query.split("&");
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] === variable) {
          return decodeURIComponent(pair[1]);
        }
      }
      console.log('Query variable %s not found', variable);
    }

    // Main function to handle OAuth callback
    function handleCallback() {
      var oauthToken = getQueryVariable('oauth_token');
      var oauthVerifier = getQueryVariable('oauth_verifier');

      // Example of sending parameters to your React Native app using postMessage
      if (window.opener) {
        window.opener.postMessage({ oauth_token: oauthToken, oauth_verifier: oauthVerifier }, '*');
        window.close();
      } else {
        console.error('No opener window found');
      }
    }

    // Call handleCallback on page load
    window.onload = function () {
      handleCallback();
    };
  </script>
</head>
<body>
  <h1>Twitter OAuth Callback Page</h1>
  <p>Please wait while we process your request...</p>
</body>
</html>
